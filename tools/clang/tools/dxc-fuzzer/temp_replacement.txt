uint32_t WaveContext::getCurrentBlock(LaneId laneId) const {
    auto it = laneToCurrentBlock.find(laneId);
    return it != laneToCurrentBlock.end() ? it->second : 0;
}

// Note: All old WaveContext dynamic block implementations have been moved to ThreadgroupContext
// to support the correct architecture where dynamic blocks are global across all waves.

} // namespace interpreter
} // namespace minihlsl